/*
 *  jquery-image-tile - v0.1.0
 *  Image tile
 *  http://imagetile.beat.so
 *
 *  Made by Adrian Castillo
 *  Under MIT License
 */
!function(a){var b="imageTile",c="plugin_"+b,d=function(b){var c=a(b).parent("li"),d={loaded:!0,full:!1,initialized:!1,index:c.index(),initialIndex:c.data("image-index")||0,height:b.height,originalImageSrc:a(b).attr("src"),tileHeight:b.height/this.options.verticalTiles,tileWidth:b.width/this.options.horizontalTiles,width:b.width};return c.data(d)},e=function(b,c,d){var e=a(b).parent("li"),f=d.index;d.initialized||(f=d.initialIndex),x=parseInt(f%this.options.horizontalTiles),y=parseInt(f/this.options.horizontalTiles),properties={"background-image":"url("+c+")","background-position-x":"-"+x*d.tileWidth+"px","background-position-y":"-"+y*d.tileHeight+"px",height:d.tileHeight+"px",width:d.tileWidth+"px"},e.css(properties),e.data("initialized")||e.find(".placeholder.image").css(properties),e.data("initialized",!0)},f=function(b){var c=this;a(b).parent("li").on("click",function(){var b=a(this),d=b.find("img");b.data().full?(b.data("full",!1).removeClass("image-active"),h(c)):(b.data("full",!0).addClass("image-active"),g(c,d.attr("src")))})},g=function(b,c){b.element.find("li").each(function(d,f){var g=a(f).find("img");e.call(b,g,c,a(f).data())}).addClass("is-full-image")},h=function(b){b.element.find("li").each(function(c,d){var f=a(d).find("img");a(d).data("initialized",!1),e.call(b,f,f.attr("src"),a(d).data())}).removeClass("is-full-image")},i=function(a,b){this.element=a,this.options={textColor:"#000",horizontalTiles:4,verticalTiles:2},this.init(b)};i.prototype={init:function(b){a.extend(this.options,b);var c=this;this.element.find("li > img").load(function(){var b=a(this),g=b.parent("li");d.call(c,this),e.call(c,b,this.src,g.data()),f.call(c,this)}).data({loaded:!1})},publicMethod:function(){}},a.fn[b]=function(a){var b=this.data(c);return b instanceof i?"undefined"!=typeof a&&b.init(a):(b=new i(this,a),this.data(c,b)),b}}(jQuery,window,document);